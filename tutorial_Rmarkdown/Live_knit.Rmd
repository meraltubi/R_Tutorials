---
title: "R_Markdown_tutorial_live"
author: "Meral Tubi"
date: "2022-09-07"
output:
   prettydoc::html_pretty:
    theme: hpstr
    highlight: github
    toc: true
    number_sections: true


---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
ls(cars)
str(cars)
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

# Chunk Options
include = FALSE prevents code and results from appearing in the finished file. R Markdown still runs the code in the chunk, and the results can be used by other chunks.  
echo = FALSE prevents code, but not the results from appearing in the finished file. This is a useful way to embed figures.  
message = FALSE prevents messages that are generated by code from appearing in the finished file.  
warning = FALSE prevents warnings that are generated by code from appearing in the finished.  
fig.cap = "..." adds a caption to graphical results.  

# Install Libraries
```{r libraries, echo=FALSE, message=FALSE, warning=FALSE}
library(ggplot2)
library(plyr)
library(dplyr)
```

# Import Files
```{r import}
demogs <-read.csv("/Volumes/GoogleDrive/My Drive/R_Scripts/Braskie_R_Workshop/tutorial_01/orig_files/demogs_fordf1df2.csv")
df1 <-read.csv("/Volumes/GoogleDrive/My Drive/R_Scripts/Braskie_R_Workshop/tutorial_01/orig_files/df1_corticalthickness.csv")
df2 <-read.csv("/Volumes/GoogleDrive/My Drive/R_Scripts/Braskie_R_Workshop/tutorial_01/orig_files/df2_corticalthickness.csv")
```

# View Data
```{r view}
summary(demogs)
```

# Merge Plots
```{r merge, echo=FALSE}
demogs.df1<-join(demogs, df1, by="SubjID", type="left")
head(demogs.df1)
str(demogs.df1)
```

# Manipulate Data
```{r manipulate, echo=FALSE}
demogs.df1$age.z <-scale(demogs.df1$Age..IDA.)
```

# Including Plots
You can also embed plots, for example:

## boxplot
```{r plot}
boxplot(demogs$Age..IDA.)
```

```{r plot2}
hist(demogs$Age..IDA.)
```
## histogram

```{r hist, echo=FALSE}
hist(demogs.df1$age.z)
```

#  Linear Regression
```{r regression, echo=FALSE}
model1 <- lm(L_fusiform_thickavg~age.z, data=demogs.df1)
summary(model1)
plot(model1)
```

```{r interact, echo=FALSE, message=FALSE}
model2 <- lm(L_fusiform_thickavg~Age..IDA.*Sex..IDA., data=demogs.df1)
summary(model2)
```

# Plot Linear Regression Interactions
```{r interactplot, echo=FALSE, warning=FALSE}

ggplot(demogs.df1, aes(Age..IDA., L_fusiform_thickavg, colour = Sex..IDA.)) + geom_point() +  geom_smooth(method='lm')

str(demogs)
demogs$Sex..IDA.<-as.factor(demogs$Sex..IDA)
str(demogs)
demogs$Age..IDA.<-as.numeric(demogs$Age..IDA.)
```